(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3948:(e,t,r)=>{Promise.resolve().then(r.bind(r,6210))},6210:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var a=r(5155),s=r(2115);function n(){let[e,t]=(0,s.useState)([{x:5,y:5}]),[r,n]=(0,s.useState)([{x:15,y:15}]),[l,c]=(0,s.useState)({x:10,y:10}),[x,u]=(0,s.useState)("RIGHT"),[i,o]=(0,s.useState)("LEFT"),[y,h]=(0,s.useState)(!1),[d,b]=(0,s.useState)(0),[m,f]=(0,s.useState)(0),[g,N]=(0,s.useState)(null),[T,E]=(0,s.useState)(200),k=(0,s.useCallback)(()=>{c({x:Math.floor(20*Math.random()),y:Math.floor(20*Math.random())})},[]),w=(0,s.useCallback)((e,t,r,a)=>{let s=e[0],n={UP:"DOWN",DOWN:"UP",LEFT:"RIGHT",RIGHT:"LEFT"};return["UP","DOWN","LEFT","RIGHT"].filter(e=>e!==n[r]).map(r=>{let n=s.x,l=s.y;switch(r){case"UP":l--;break;case"DOWN":l++;break;case"LEFT":n--;break;case"RIGHT":n++}if(n<0||n>=20||l<0||l>=20||e.some((e,t)=>t>0&&e.x===n&&e.y===l))return{direction:r,score:-1e3};let c=a.some(e=>Math.abs(n-e.x)+Math.abs(l-e.y)<=2),x=a[0],u=[{x:x.x,y:x.y-1},{x:x.x,y:x.y+1},{x:x.x-1,y:x.y},{x:x.x+1,y:x.y}].some(e=>Math.abs(n-e.x)+Math.abs(l-e.y)<=1),i=-(Math.abs(t.x-n)+Math.abs(t.y-l));return c&&(i-=500),u&&(i-=300),(n<=1||n>=18||l<=1||l>=18)&&(i-=100),{direction:r,score:i}}).reduce((e,t)=>t.score>e.score?t:e).direction},[20]),p=(e,t)=>{if(e.x<0||e.x>=20||e.y<0||e.y>=20)return!0;for(let r=1;r<t.length;r++)if(e.x===t[r].x&&e.y===t[r].y)return!0;return!1},R=(e,t,r,a)=>{let s=a.some(t=>e.x===t.x&&e.y===t.y),n=r.some(e=>t.x===e.x&&t.y===e.y);return e.x===t.x&&e.y===t.y?"DRAW":s?"COMPUTER_WIN":n?"PLAYER_WIN":null},I=(0,s.useCallback)(()=>{if(y)return;let a={...e[0]};switch(x){case"UP":a.y-=1;break;case"DOWN":a.y+=1;break;case"LEFT":a.x-=1;break;case"RIGHT":a.x+=1}let s={...r[0]},c=w(r,l,i,e);switch(o(c),c){case"UP":s.y-=1;break;case"DOWN":s.y+=1;break;case"LEFT":s.x-=1;break;case"RIGHT":s.x+=1}if(p(a,e)){h(!0),N("COMPUTER_WIN");return}if(p(s,r)){h(!0),N("PLAYER_WIN");return}let u=R(a,s,e,r);if(u){h(!0),N(u);return}let d=[a],m=[s],g=a.x===l.x&&a.y===l.y,T=s.x===l.x&&s.y===l.y;g?(b(e=>(E(e=>Math.max(70,e-10)),e+1)),k(),d.push(...e)):d.push(...e.slice(0,-1)),T?(f(e=>(E(e=>Math.max(70,e-10)),e+1)),k(),m.push(...r)):m.push(...r.slice(0,-1)),t(d),n(m)},[e,r,x,i,l,y,k,w]);return(0,s.useEffect)(()=>{let e=e=>{let t=null;switch(e.key){case"ArrowUp":t="UP";break;case"ArrowDown":t="DOWN";break;case"ArrowLeft":t="LEFT";break;case"ArrowRight":t="RIGHT"}t&&t!==({UP:"DOWN",DOWN:"UP",LEFT:"RIGHT",RIGHT:"LEFT"})[x]&&u(t)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[x]),(0,s.useEffect)(()=>{let e=setInterval(I,T);return()=>clearInterval(e)},[I,T]),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-green-800 p-4",children:[(0,a.jsxs)("div",{className:"mb-4 flex gap-8",children:[(0,a.jsxs)("div",{className:"text-white",children:["플레이어 점수: ",d]}),(0,a.jsxs)("div",{className:"text-white",children:["컴퓨터 점수: ",m]}),y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-white font-bold",children:(()=>{switch(g){case"PLAYER_WIN":return"플레이어 승리!";case"COMPUTER_WIN":return"컴퓨터 승리!";case"DRAW":return"무승부!";default:return""}})()}),(0,a.jsx)("button",{onClick:()=>{t([{x:5,y:5}]),n([{x:15,y:15}]),u("RIGHT"),o("LEFT"),h(!1),b(0),f(0),N(null),E(200),k()},className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"다시 시작"})]})]}),(0,a.jsx)("div",{className:"grid bg-green-600 rounded-lg p-2",style:{gridTemplateColumns:"repeat(".concat(20,", 20px)"),gap:"1px"},children:Array.from({length:400}).map((t,s)=>{let n=s%20,c=Math.floor(s/20),x=e.some(e=>e.x===n&&e.y===c),u=r.some(e=>e.x===n&&e.y===c),i=e[0].x===n&&e[0].y===c,o=r[0].x===n&&r[0].y===c,y=l.x===n&&l.y===c;return(0,a.jsx)("div",{className:"w-5 h-5 rounded-sm ".concat(x?i?"bg-blue-700":"bg-blue-500":u?o?"bg-orange-700":"bg-orange-500":y?"bg-red-500":"bg-green-400")},s)})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(3948)),_N_E=e.O()}]);